{% extends 'base.html' %}
{% block title %}Sign Up • Flask Auth{% endblock %}
{% block content %}
  <section class="card form-card">
    <h2>회원가입</h2>

    {# Flask-WTF: CSRF 토큰이 hidden_tag 로 자동 생성됩니다. 없으면 검증 실패. #}
    <form method="post" novalidate>
      {{ form.hidden_tag() }}

      <label>Email {{ form.email(size=32, placeholder='you@example.com') }}</label>
      {% for e in form.email.errors %}<div class="error">{{ e }}</div>{% endfor %}

      <label>Password {{ form.password(size=32, placeholder='6자 이상') }}</label>
      {% for e in form.password.errors %}<div class="error">{{ e }}</div>{% endfor %}

      <label>Confirm {{ form.password2(size=32, placeholder='비밀번호 확인') }}</label>
      {% for e in form.password2.errors %}<div class="error">{{ e }}</div>{% endfor %}

      {{ form.submit(class_='btn') }}
    </form>

    <p class="muted">이미 계정이 있나요? <a href="{{ url_for('auth.login') }}">로그인</a></p>
  </section>
{% endblock %}
